
# 📚 To-Do App API 接口设计文档

本项目为个人使用的任务记录工具，包括事项管理、用户系统、历史记录、日历视图等功能，基于 Node.js + TypeScript 后端，Vue 3 前端。


**别忘了投入生产的时候设置环境JWT变量**
---

## 🧭 设计原则

- RESTful API 设计风格
- 所有 API 以 `/api` 为前缀
- 使用 JWT 进行用户认证
- 结构清晰、拓展性强
- 接口返回 JSON

---

## ✅ 用户模块 `/api/auth`

| 方法 | 路径        | 功能说明                 |
|------|-------------|--------------------------|
| POST | `/register` | 注册新用户               |
| POST | `/login`    | 登录（返回 JWT）         |
| GET  | `/me`       | 获取当前用户信息         |
| POST | `/logout`   | 可选，处理 token 清理     |

---

## 📌 任务模块 `/api/todos`

| 方法   | 路径                     | 功能说明                                 |
|--------|--------------------------|------------------------------------------|
| GET    | `/todos`                 | 获取当前用户的所有未完成任务             |
| POST   | `/todos`                 | 创建一个新的任务                         |
| GET    | `/todos/:id`            | 获取某个任务的详细信息                   |
| PATCH  | `/todos/:id`            | 修改任务（如改名、修改时间、加标签等）  |
| PATCH  | `/todos/:id/complete`   | 标记任务为完成                           |
| DELETE | `/todos/:id`            | 删除任务（可选是否保留历史）            |

#### 任务数据结构示例
```json
{
  "id": "uuid",
  "title": "写OS作业",
  "dueDate": "2025-06-04T18:00:00.000Z",
  "tags": ["作业", "urgent"],
  "description": "交CS350 P4",
  "completed": false,
  "createdAt": "...",
  "updatedAt": "..."
}
```

---

## 🕓 历史模块 `/api/history`

| 方法 | 路径                     | 功能说明                         |
|------|--------------------------|----------------------------------|
| GET  | `/history`               | 获取所有已完成的任务             |
| GET  | `/history?from=&to=`     | 按时间范围筛选历史任务           |

---

## 📅 日历模块 `/api/calendar`

| 方法 | 路径                          | 功能说明                             |
|------|-------------------------------|--------------------------------------|
| GET  | `/calendar?month=6`           | 获取某月中有任务的所有日期和任务列表|

---

## 🧱 数据库模型草案

- User
- Todo
- Tag
- 可选：CompletedTodo（或使用 Todo 表中 completed 字段）

---

## 🔮 未来预留模块

| 模块路径       | 功能说明                   |
|----------------|----------------------------|
| `/api/tags`     | 增删改标签（便于管理）     |
| `/api/settings` | 用户偏好（邮件提醒等设置）|
